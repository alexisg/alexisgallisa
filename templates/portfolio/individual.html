{# ------------------------------------------------------- #}
{# INDIVIDUAL VIEW FOR EACH portfolio #}
{# This page can use any data from http:localhost:2000/cms/#/form/portfolio/ #}
{# Webhook uses the SWIG.js (like Djagno/Twig) templating system. Their documentation is here: #}
{# http://paularmstrong.github.io/swig/docs/tags/ #}
{# Learn about calling data into Webhook pages here: #}
{# http://www.webhook.com/docs/template-rules-and-filters/ #}
{# ------------------------------------------------------- #}
{# Confused what extends and blocks do? Watch a primer: #}
{# http://www.webhook.com/docs/template-inheritance-blocks/ #}
{% extends "templates/partials/base.html" %}
{# This sets our page <title>. It will append this portfolio's name to the site title defined in base.html #}
{% block title %}{% parent %} - {{ item.name }}{% endblock %}

{% block content %}
<article class="mg-t-1">
  <div class="js-media-hold aspect aspect--square mg-b-2" data-video="{{item.video_large.url}}" data-img="{{ item.image|imageCrop(1280,1280) }}"></div>

  <h2>{{ item.name }}</h2>

  {% if item.deck %}
    <h5>{{ item.deck }}</h5>
  {% endif %}

  {% if item.website %}
    <a href="{{item.website}}">
      <p>{{item.website|replace('http://', '') }}</p>
    </a>
  {% endif %}



  <ul>
    {% for image in item.gallery %}
      <li>
        {# You can get the raw image url by accessing image.url #}
        <img src="{{ image|imageSize(400, 400) }}">
        <div>{{ image.caption }}</div>
      </li>
    {% endfor %}
  </ul>

  {{ item.wysiwyg_text|safe }}
</article>
{% endblock %}
