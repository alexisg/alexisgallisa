/* Vendor Import */
@import modular-scale/stylesheets/modular-scale

/* Native Imports */
@import modules/mixin
@import modules/fontface
@import modules/measure
@import modules/variables
@import modules/aspect
@import modules/baseline
@import modules/flex
@import modules/grid
@import modules/responsive
@import modules/transitions
@import modules/helpers

*
  margin: 0
  padding: 0
  box-sizing: border-box

body
  background: $color-body
  color: $color-text
  font-family: 'AvenirPro'
  font-weight: normal
  font-style: normal
  padding: guv(2) guv(2)
  min-height: 101vh

img,video
  max-width: 100%

button
  font-family: inherit
  background: none
  border: 0
  &::-moz-focus-inner
    border: 0

// ---------------------------
// Typography
// ---------------------------

h1,h2,h3,h4,h5,h6
  font-weight: normal
  font-style: normal

h1
  color: $color-hdr

h2
  color: $color-hdr
  font-weight: bold

h3
  color: $color-hdr
  font-weight: bold

h4
  color: $color-sub-hdr

h5
  color: $color-sub-hdr


a
  color: $color-link
  cursor: pointer
  text-decoration: none
  transform-origin: 0 0
  transition: .3s all
  &:hover
    color: $color-link-hover
    cursor: pointer

ul
  list-style: none
  text-align: left

// ---------------------------
// Shadows
// ---------------------------
.shadow
  box-shadow: hsla($hue, 5%, 5%, .25) 0 10px 15px -5px
.shadow--lg
  box-shadow: hsla($hue, 5%, 5%, .25) 0 10px 25px -5px

// // ---------------------------
// // Scrollbar - this kills me but it avoids the jank of scrollbar showing up all the time
// // ---------------------------
// body::-webkit-scrollbar
//   width: .75rem

// body::-webkit-scrollbar-thumb
//   background-color: darken($color-body,10%)
//   border-radius: 1rem

// ---------------------------
// Logo and portrait
// ---------------------------
.logo
  margin-left: auto
  margin-right: auto
  overflow: hidden
  white-space: nowrap
  a
    color: $color-hdr
    &:hover
      color: $color-link-hover

.portrait
  position: relative
  margin: 0 auto
  &:hover
    .icon--andre
      background-position: 0 -70px

.portrait__img
  display: block
  margin: 0 auto
  position: relative
  height: guv(9)
  width: guv(9)

  &:before
    content: ''
    position: absolute
    border-radius: 100%
    display: block
    left: 0
    top: 0
    right: 0
    bottom: 0
  img
    border-radius: 100%

.portrait__icon
  position: absolute
  left: 50%
  bottom: -14px
  margin-left: 36px

.intro
  +baseline($below: 3)
  a:hover
    text-decoration: underline

// ---------------------------
// Icons
// ---------------------------
.icon
  background-repeat: no-repeat
  background-size: auto 100%
  display: inline-block
  overflow: hidden
  height: 32px
  width: 32px
  vertical-align: middle

.icon--andre
  background: url('/static/images/icon-andre.png') 0 0
  background-size: 24px auto
  width: 24px
  height: 46px
  &:hover
    background-position: 0 -70px
  +retina
    background-image: url('/static/images/icon-andre@2x.png')

.icon--doc
  background-image: url('/static/images/icon-door-32x32.png')


// ---------------------------
// Main portfolio grid
// ---------------------------
.nav-portfolio
  max-height: guv(5)
  overflow: hidden
  transition-duration: .3s
  .is-navbar-active &
    max-height: guv(34)
  +mq-desktop
    height: auto
    overflow: visible

.list-portfolio
  margin-top: guv(1)
  margin-bottom: 0
  text-align: center
  a
    display: block

.list-portfolio--row
  display: flex
  align-items: stretch
  justify-content: space-between
  flex-direction: column
  flex-wrap: wrap
  text-align: left
  +mq-desktop
    flex-direction: row

.list-portfolio__item
  padding-top: 0
  margin-bottom: 0

$hamburger-height: 4px
$hamburger-width: guv(2)

.list-portfolio__toggle
  box-shadow: rgba(black,.1) 0 -1px 0 0 inset,rgba(black,.1) 0 1px 0 0 inset
  margin-bottom: guv(1)
  padding-top: 0
  position: relative
  +mq-desktop
    display: none
  button
    color: $color-hdr
    padding-left: guv(3)
    position: relative
    text-align: left
    top: 2px
    width: 100%
    &:focus
      outline: none
    &:hover
      cursor: pointer
  span, span:before, span:after
    height: $hamburger-height
    width: $hamburger-width
    background: $color-hdr
    position: absolute
    display: block
    content: ''
    transition: all .3s ease-in-out
    transform-origin: 50% 50%
    left: 0
    top: 50%
    transform: translateY(-50%)
    margin-top: -3px
  span:before
    margin-top: $hamburger-height * 2 * -1
  span:after
    margin-top: $hamburger-height * 2

  .is-navbar-active &
    span
      background-color: transparent
    span:before, span:after
      margin-top: -1px
    span:before
      transform: rotate(45deg)
    span:after
      transform: rotate(-45deg)

.list-portfolio__link--active
  color: $color-link-hover
  position: relative
  .list-portfolio__hdr
    color: $color-link
  +mq-desktop
    &:after
      content: ''
      background: $color-link
      position: absolute
      left: 0
      right: 0
      top: 100%
      height: 1px
      animation: spread .2s
      transition: all .2s
      .transition-end &
        left: 50%
        right: 50%

@keyframes spread
  0%
    left: 50%
    right: 50%
  100%
    left: 0
    right: 0

.list-portfolio__media
  margin-bottom: guv(1)

.list-portfolio__hide
  margin-left: auto
  margin-right: auto
  max-width: 100%
  overflow: hidden
  transition: width .3s cubic-bezier(0.465, 0.183, 0.153, 0.946), opacity .3s cubic-bezier(0.465, 0.183, 0.153, 0.946)
  .transition-end[data-exit='exit-'] &
    max-width: 0
    opacity: 0
    white-space: nowrap

.list-portfolio__hdr
  white-space: nowrap
  +baseline($font-size-5, $lineheight: 3, $below: 0)
  a:hover &
    color: $color-link-hover
  .list-portfolio--row &
    font-size: $font-size-4
    line-height: 4rem
    margin-bottom: 0
    padding-top: 0
    font-weight: normal
    +mq-desktop
      +baseline($font-size-base, $lineheight: 2, $below: 1)

.list-portfolio__deck
  color: $color-sub-hdr
  display: none
  +baseline($font-size-6, $below: 3)
  [data-enter='enter-'] &
    display: block

// ---------------------------
// List of networks in footer
// ---------------------------
.footer
  margin: guv(2) auto
  width: 100%

.footer__item
  color:  $color-sub-hdr
  flex: 0 0 auto
  font-size: $font-size-8
  margin: 0 guv(2)
  text-transform: uppercase
  &:hover
    color:  $color-link-hover
    svg
      fill: $color-hdr
  svg
    height: 24px
    width: 24px
    margin: 0 auto .5rem
    fill: $color-sub-hdr
    display: block
    transition: all .3s
